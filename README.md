# [@gik/tools-streamer](https://github.com/gikmx/tools) *0.0.5*
> GIK's take on the Observable

## Contributors
* [Héctor Menéndez](mailto:hector@gik.mx) [hectormenendez.com](hectormenendez.com)

# Usage

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [streamer](#streamer)
    -   [fromAccess](#fromaccess)
    -   [fromStat](#fromstat)
    -   [fromSpawn](#fromspawn)
    -   [fromDirMake](#fromdirmake)
    -   [fromDirRequire](#fromdirrequire)
    -   [fromDirRead](#fromdirread)
    -   [fromDirReadRecursive](#fromdirreadrecursive)
    -   [fromFileRead](#fromfileread)
    -   [fromFileWrite](#fromfilewrite)
-   [NodeStat](#nodestat)
-   [NodeOutput](#nodeoutput)
-   [NodePath](#nodepath)
-   [StreamBoolean](#streamboolean)
-   [StreamString](#streamstring)
-   [StreamStat](#streamstat)
-   [StreamOutput](#streamoutput)
-   [StreamPath](#streampath)
-   [StreamParamError](#streamparamerror)

## streamer

An utility belt for our most common operations with Observables, using RxJS.<br>

TODO:

-   Add unit tests for all methods.

### fromAccess

Determine if given path is accessible.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A path to the node you want to check.

Returns **[StreamBoolean](#streamboolean)** Wether the file is accessible or not.

### fromStat

Determine statistics about a file system node.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A path to the node you want to check.


-   Throws **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** When given an invalid node.

Returns **[StreamStat](#streamstat)** stat object for the node.

### fromSpawn

Spawn a shell command.

**Parameters**

-   `command` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The command you wish to spawn.
-   `config` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Configs sent to spawn command.

Returns **[StreamOutput](#streamoutput)** Each chunk of either stdout or stderr data.

### fromDirMake

Creates a directory.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The directory to be created.


-   Throws **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** When directory cannot be created.

Returns **[StreamString](#streamstring)** The path of the directory that was just created.

### fromDirRequire

Requires a directory path, if the directory does not exists, it's created.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The requested directory.


-   Throws **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** When requested path exists and is not a directory.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[StreamString](#streamstring)>** The path of the directory.

### fromDirRead

Get path of nodes in given directory (non recursively).

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The requested directory.


-   Throws **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** When requested path exists and is not a directory.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;StreamDirNode>** The path of the directory.

### fromDirReadRecursive

Get path of nodes in given directory (recursively).

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The requested directory.


-   Throws **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** When requested path exists and is not a directory.

Returns **[StreamPath](#streampath)** The path of the directory.

### fromFileRead

Reads a file from the disk.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The path to the file to read.

Returns **Observable&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** The contents of the file.

### fromFileWrite

Writes a file on the disk.

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The full path for the file.
-   `content` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The contents of the file.


-   Throws **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** When the file cannot be written.

Returns **Observable&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** The future value `true` if write was succesful.

## NodeStat

A stream containing stat from node.
see [fs.stat](https://nodejs.org/api/fs.html#fs_class_fs_stats) for more properties.

Type: [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `isDirectory` **function (void)** Determine if node is a directory.
-   `isFile` **function (void)** Determine if node is a file.

## NodeOutput

Type: [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The type of chunk that is being received. (stderr || stdout)
-   `data` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The actual output.

## NodePath

Type: [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The full path for the node
-   `data` **[NodeStat](#nodestat)** The actual output.

## StreamBoolean

Type: Observable&lt;[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>

## StreamString

Type: Observable&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>

## StreamStat

A stream containing stat from node.

Type: Observable&lt;[NodeStat](#nodestat)>

## StreamOutput

A stream containing stat from node.

Type: Observable&lt;[NodeOutput](#nodeoutput)>

## StreamPath

A stream containing stat from node.

Type: Observable&lt;[NodePath](#nodepath)>

## StreamParamError

Thrown when a parameter is not the correct type.

Type: [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
